CREATE TABLE  "TLOGIN" 
   (	"USER_ID" NUMBER(*,0), 
	"FULL_NAME" VARCHAR2(255) NOT NULL ENABLE, 
	"USERNAME" VARCHAR2(255) NOT NULL ENABLE, 
	"PASSWORD" VARCHAR2(255) NOT NULL ENABLE, 
	"EMAIL" VARCHAR2(255) NOT NULL ENABLE, 
	"PHONE_NUMBER" VARCHAR2(255) NOT NULL ENABLE, 
	"ADDRESS" VARCHAR2(255) NOT NULL ENABLE, 
	"GENDER" VARCHAR2(255) NOT NULL ENABLE, 
	"SECURITYQ" VARCHAR2(255) NOT NULL ENABLE, 
	"ANSWER" VARCHAR2(255) NOT NULL ENABLE, 
	 PRIMARY KEY ("USER_ID") ENABLE, 
	 UNIQUE ("USERNAME") ENABLE
   ) ;
   
   CREATE TABLE  "TRAIN" 
   (	"TRAIN_NO" NUMBER(5,0) NOT NULL ENABLE, 
	"TRAIN_NAME" VARCHAR2(100) NOT NULL ENABLE, 
	"SOURCE_STATION" VARCHAR2(100) NOT NULL ENABLE, 
	"DESTINATION_STATION" VARCHAR2(100) NOT NULL ENABLE, 
	 CONSTRAINT "TRAIN_PK" PRIMARY KEY ("TRAIN_NO") ENABLE
   ) ;
   
   CREATE TABLE  "TRAINAC1_STATUS" 
   (	"TRAIN_NO" NUMBER NOT NULL ENABLE, 
	"DATE_AVAILABLE" VARCHAR2(20) NOT NULL ENABLE, 
	"AC1_AVAILABLESEATS" NUMBER NOT NULL ENABLE, 
	 CONSTRAINT "TRAINAC1_STATUS_PK" PRIMARY KEY ("TRAIN_NO") ENABLE
   ) ;
   
   CREATE TABLE  "TRAINAC2_STATUS" 
   (	"TRAIN_NO" NUMBER NOT NULL ENABLE, 
	"DATE_AVAILABLE" VARCHAR2(20) NOT NULL ENABLE, 
	"AC2_AVAILABLESEATS" NUMBER NOT NULL ENABLE, 
	 CONSTRAINT "TRAINAC2_STATUS_PK" PRIMARY KEY ("TRAIN_NO") ENABLE
   ) ;
   
   CREATE TABLE  "TRAINSL_STATUS" 
   (	"TRAIN_NO" NUMBER NOT NULL ENABLE, 
	"DATE_AVAILABLE" VARCHAR2(20) NOT NULL ENABLE, 
	"SL_AVAILABLESEATS" NUMBER NOT NULL ENABLE, 
	 CONSTRAINT "TRAINSL_STATUS_PK" PRIMARY KEY ("TRAIN_NO") ENABLE
   ) ;
   
   CREATE TABLE  "TRAIN_AC1" 
   (	"TRAIN_NO" NUMBER NOT NULL ENABLE, 
	"AC1_FARE" NUMBER NOT NULL ENABLE, 
	"AC1_SEAT" NUMBER NOT NULL ENABLE, 
	 CONSTRAINT "TRAIN_AC1_PK" PRIMARY KEY ("TRAIN_NO") ENABLE
   ) ;
   
   CREATE TABLE  "TRAIN_AC2" 
   (	"TRAIN_NO" NUMBER NOT NULL ENABLE, 
	"AC2_FARE" NUMBER NOT NULL ENABLE, 
	"AC2_SEAT" NUMBER NOT NULL ENABLE
   ) ;
   
   CREATE TABLE  "TRAIN_SL" 
   (	"TRAIN_NO" NUMBER NOT NULL ENABLE, 
	"SL_FARE" NUMBER NOT NULL ENABLE, 
	"SL_SEAT" NUMBER NOT NULL ENABLE
   ) ;
   
   ALTER TABLE  "TRAINAC1_STATUS" ADD CONSTRAINT "TRAINAC1_STATUS_FK" FOREIGN KEY ("TRAIN_NO")
	  REFERENCES  "TRAIN" ("TRAIN_NO") ENABLE;ALTER TABLE  "TRAINAC2_STATUS" ADD CONSTRAINT "TRAINAC2_STATUS_FK" FOREIGN KEY ("TRAIN_NO")
	  REFERENCES  "TRAIN" ("TRAIN_NO") ENABLE;ALTER TABLE  "TRAINSL_STATUS" ADD CONSTRAINT "TRAINSL_STATUS_FK" FOREIGN KEY ("TRAIN_NO")
	  REFERENCES  "TRAIN" ("TRAIN_NO") ENABLE;ALTER TABLE  "TRAIN_AC1" ADD CONSTRAINT "TRAIN_AC1_FK" FOREIGN KEY ("TRAIN_NO")
	  REFERENCES  "TRAIN" ("TRAIN_NO") ENABLE;ALTER TABLE  "TRAIN_AC2" ADD CONSTRAINT "TRAIN_AC2_FK" FOREIGN KEY ("TRAIN_NO")
	  REFERENCES  "TRAIN" ("TRAIN_NO") ENABLE;ALTER TABLE  "TRAIN_SL" ADD CONSTRAINT "TRAIN_SL_FK" FOREIGN KEY ("TRAIN_NO")
	  REFERENCES  "TRAIN" ("TRAIN_NO") ENABLE;
 CREATE SEQUENCE   "USER_BI"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 41 CACHE 20 NOORDER  NOCYCLE ; CREATE SEQUENCE   "TRAIN_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ; CREATE SEQUENCE   "TRAIN_AC1_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ; CREATE SEQUENCE   "TRAINSL_STATUS_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ; CREATE SEQUENCE   "TRAINAC2_STATUS_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ; CREATE SEQUENCE   "TRAINAC1_STATUS_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ; CREATE SEQUENCE   "SEQ_PNR"  MINVALUE 1000000000 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1000000000 CACHE 9999999999 NOORDER  NOCYCLE ; CREATE SEQUENCE   "PNR_NUMBER_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 100000020 CACHE 20 NOORDER  NOCYCLE ;
CREATE OR REPLACE TRIGGER  "TLOGIN_BI" 
BEFORE INSERT ON TLOGIN
FOR EACH ROW
BEGIN
    SELECT USER_BI.nextval
    INTO :new.USER_ID
    FROM dual;
END;
/
ALTER TRIGGER  "TLOGIN_BI" ENABLE;CREATE OR REPLACE TRIGGER  "BI_TRAIN_AC1" 
  before insert on "TRAIN_AC1"               
  for each row  
begin   
  if :NEW."TRAIN_NO" is null then 
    select "TRAIN_AC1_SEQ".nextval into :NEW."TRAIN_NO" from dual; 
  end if; 
end; 

/
ALTER TRIGGER  "BI_TRAIN_AC1" ENABLE;CREATE OR REPLACE TRIGGER  "BI_TRAINSL_STATUS" 
  before insert on "TRAINSL_STATUS"               
  for each row  
begin   
  if :NEW."TRAIN_NO" is null then 
    select "TRAINSL_STATUS_SEQ".nextval into :NEW."TRAIN_NO" from dual; 
  end if; 
end; 

/
ALTER TRIGGER  "BI_TRAINSL_STATUS" ENABLE;CREATE OR REPLACE TRIGGER  "BI_TRAINAC2_STATUS" 
  before insert on "TRAINAC2_STATUS"               
  for each row  
begin   
  if :NEW."TRAIN_NO" is null then 
    select "TRAINAC2_STATUS_SEQ".nextval into :NEW."TRAIN_NO" from dual; 
  end if; 
end; 

/
ALTER TRIGGER  "BI_TRAINAC2_STATUS" ENABLE;CREATE OR REPLACE TRIGGER  "BI_TRAINAC1_STATUS" 
  before insert on "TRAINAC1_STATUS"               
  for each row  
begin   
  if :NEW."TRAIN_NO" is null then 
    select "TRAINAC1_STATUS_SEQ".nextval into :NEW."TRAIN_NO" from dual; 
  end if; 
end; 

/
ALTER TRIGGER  "BI_TRAINAC1_STATUS" ENABLE;
